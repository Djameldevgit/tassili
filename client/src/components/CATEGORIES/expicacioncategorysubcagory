quiero crear un componente accordion de react-bootstrap fusionando los dos archivos catgories y subcategories,
 la idea que el usuario al querer publicar un post tendra accordion con todas las categorias vistas por defecto, al hacer click sobre cualquier categoria se despliega una columna de titulos de subcategories y al seleccionar una subcategorie aparecera automaticamente los campos debajo esyo ya esta hecho en otros archivos, 
Nota estos archivos por separado funcionan muy bien , solo falta fusionarlo y crear esta accordion sin cambiar la logica existente de lo contrario puede que falla, como mencione antes las categorias deben despligar subcategorias en columnas con titulos, no creas cards crea todo con titulos en la misma columna, no mucho margin no mucho padding para ahorrar espacio
import React, { useState } from 'react';
import { Form } from 'react-bootstrap';
import { useTranslation } from 'react-i18next';

const Categories = ({ postData, handleChangeInput }) => {
  const { t, i18n } = useTranslation('categories');
  const isRTL = i18n.language === 'ar';
  const [searchTerm, setSearchTerm] = useState('');

  // Mapeo de categorÃ­as a emojis (solo emojis Unicode)
  const categoryEmojis = {
    'immobilier': 'ğŸ ',
    'vehicules': 'ğŸš—',
    'telephones': 'ğŸ“±',
    'informatique': 'ğŸ’»',
    'electromenager': 'ğŸ”Œ',
    'piecesDetachees': 'âš™ï¸',
    'vetements': 'ğŸ‘•',
    'alimentaires': 'ğŸ',
    'sante_beaute': 'ğŸ’„',
    'meubles': 'ğŸ›‹ï¸',
    'services': 'ğŸ› ï¸',
    'materiaux': 'ğŸ§±',
    'loisirs': 'ğŸ®',
    'emploi': 'ğŸ’¼',
    'sport': 'âš½',
    'voyages': 'âœˆï¸'
  };

  // Mapeo de colores para usar en otro lugar si es necesario
  const categoryColors = {
    'immobilier': '#8b5cf6',
    'vehicules': '#dc2626',
    'telephones': '#3b82f6',
    'informatique': '#1f2937',
    'electromenager': '#f59e0b',
    'piecesDetachees': '#6b7280',
    'vetements': '#ec4899',
    'alimentaires': '#10b981',
    'sante_beaute': '#ef4444',
    'meubles': '#92400e',
    'services': '#f59e0b',
    'materiaux': '#7c3aed',
    'loisirs': '#3b82f6',
    'emploi': '#1e40af',
    'sport': '#10b981',
    'voyages': '#0ea5e9'
  };

  // Datos de las categorÃ­as
  const categories = [
    { id: 'immobilier', name: t('immobilier', 'Immobilier') },
    { id: 'vehicules', name: t('automobiles') }, 
    { id: 'telephones', name: t('telephones', 'TÃ©lÃ©phones & Accessoires') },
    { id: 'informatique', name: t('informatique', 'Informatique') },
    { id: 'electromenager', name: t('electromenager', 'Ã‰lectromÃ©nager & Ã‰lectronique') },
    { id: 'piecesDetachees', name: t('piecesDetachees', 'Pieces Detachees') },
    { id: 'vetements', name: t('vetements', 'VÃªtements & Mode') },
    { id: 'alimentaires', name: t('Alimentaires', 'Alimentaires') },
    { id: 'sante_beaute', name: t('sante_beaute', 'SantÃ© & BeautÃ©') },
    { id: 'meubles', name: t('meubles', 'Meubles & Maison') },
    { id: 'services', name: t('Services', 'Services') },
    { id: 'materiaux', name: t('Materiaux', 'Materiaux') },
    { id: 'loisirs', name: t('loisirs', 'Loisirs & Divertissements') },
    { id: 'emploi', name: t('emploi', "Offres & Demandes d'emploi") },
    { id: 'sport', name: t('Sport', 'Sport') },
    { id: 'voyages', name: t('Voyage', 'Voyages') }
  ];

  const filteredCategories = categories.filter(category =>
    category.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div className={`${isRTL ? 'rtl' : 'ltr'}`}>
      <Form.Group>
       
        <Form.Select
          name="categorie"
          value={postData.categorie || ''}
          onChange={handleChangeInput}
          className={`form-select ${isRTL ? 'text-end' : ''}`}
          required
          dir={isRTL ? 'rtl' : 'ltr'}
        >
          <option value="">{t('select_category', 'Choisissez une catÃ©gorie')}</option>
          {filteredCategories.map((category) => {
            const emoji = categoryEmojis[category.id] || '';
            const color = categoryColors[category.id];
            
            // SOLUCIÃ“N: Concatenar emoji + texto como string simple
            const optionText = `${emoji} ${category.name}`;
            
            return (
              <option 
                key={category.id} 
                value={category.id}
                // Opcional: puedes agregar un style, pero algunos navegadores lo ignoran
                style={{ color: color }}
              >
                {optionText}
              </option>
            );
          })}
        </Form.Select>
      </Form.Group>
 

      <style>
        {`
          .rtl { direction: rtl; text-align: right; }
          .ltr { direction: ltr; text-align: left; }
          .form-select {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: 1px solid #ced4da;
          }
          .form-select:focus {
            border-color: #86b7fe;
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
          }
        `}
      </style>
    </div>
  );
};

export default React.memo(Categories);

import React, { useState, useEffect } from 'react';
import { Form } from 'react-bootstrap';
import { useTranslation } from 'react-i18next';

const Subcategories = ({ postData, handleChangeInput }) => {
  const { t, i18n } = useTranslation('subcategories');
  const isRTL = i18n.language === 'ar';
  const mainCategory = postData.categorie;
  const [availableSubcategories, setAvailableSubcategories] = useState([]);
  const [isLoading, setIsLoading] = useState(false);

  // Reset al cambiar categorÃ­a principal
 
  const vehiculesCategories = [
    { id: 'automobiles', name: t('vehicules.categories.voitures'), icon: <span style={{ fontSize: '24px' }}>ğŸš—</span>, color: 'primary' },
    { id: 'utilitaires', name: t('vehicules.categories.utilitaire'), icon: <span style={{ fontSize: '24px' }}>ğŸš</span>, color: 'secondary' },
    { id: 'motos', name: t('vehicules.categories.motos'), icon: <span style={{ fontSize: '24px' }}>ğŸï¸</span>, color: 'success' },
     ];
  
    // emojess
    const vetementsCategories = [
      { id: 'vetements_homme', name: t('vetements.categories.vetements_homme'), icon: 'ğŸ‘”', color: 'primary' },
      { id: 'vetements_femme', name: t('vetements.categories.vetements_femme'), icon: 'ğŸ‘—', color: 'danger' },
      { id: 'chaussures_homme', name: t('vetements.categories.chaussures_homme'), icon: 'ğŸ‘', color: 'secondary' },
      ];
    // emojess
    const telephonesCategories = [
      { id: 'smartphones', name: t('telephones.categories.smartphones'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ“±</span>, color: 'primary', emoji: 'ğŸ“±' },
      { id: 'telephones_cellulaires', name: t('telephones.categories.telephones_cellulaires'), icon: <span style={{ fontSize: '24px', color: '#6c757d' }}>ğŸ“</span>, color: 'secondary', emoji: 'ğŸ“' },
      { id: 'tablettes', name: t('telephones.categories.tablettes'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ“Ÿ</span>, color: 'success', emoji: 'ğŸ“Ÿ' },
         ];
  
    // imojess
    const informatiqueCategories = [
      { id: 'ordinateurs_portables', name: t('informatique.categories.ordinateurs_portables'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ’»</span>, color: 'primary', emoji: 'ğŸ’»' },
      { id: 'ordinateurs_bureau', name: t('informatique.categories.ordinateurs_bureau'), icon: <span style={{ fontSize: '24px', color: '#6c757d' }}>ğŸ–¥ï¸</span>, color: 'secondary', emoji: 'ğŸ–¥ï¸' },
      { id: 'serveurs', name: t('informatique.categories.serveurs'), icon: <span style={{ fontSize: '24px', color: '#343a40' }}>ğŸ—„ï¸</span>, color: 'dark', emoji: 'ğŸ—„ï¸' },
       ];
  
    // emojess
    const electromenagerCategories = [
      { id: 'televiseurs', name: t('electromenager.categories.televiseurs'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ“º</span>, color: 'primary', emoji: 'ğŸ“º' },
      { id: 'demodulateurs_box_tv', name: t('electromenager.categories.demodulateurs_box_tv'), icon: <span style={{ fontSize: '24px', color: '#6c757d' }}>ğŸ“¦</span>, color: 'secondary', emoji: 'ğŸ“¦' },
      { id: 'paraboles_switch_tv', name: t('electromenager.categories.paraboles_switch_tv'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ›°ï¸</span>, color: 'success', emoji: 'ğŸ›°ï¸' },
         ];
  
  // En tu archivo SubCategories.js - AÃ‘ADE ESTO:
  
  const piecesDetacheesCategories = [
    { id: 'pieces_automobiles', name: t('pieces_detachees.categories.pieces_automobiles'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸš—</span>, color: 'primary', emoji: 'ğŸš—' },
    { id: 'pieces_vehicules', name: t('pieces_detachees.categories.pieces_vehicules'), icon: <span style={{ fontSize: '24px', color: '#6c757d' }}>ğŸšš</span>, color: 'secondary', emoji: 'ğŸšš' },
    { id: 'pieces_moto', name: t('pieces_detachees.categories.pieces_moto'), icon: <span style={{ fontSize: '24px', color: '#dc3545' }}>ğŸï¸</span>, color: 'danger', emoji: 'ğŸï¸' },
     ];
  
  
  // imojes
  const santeBeauteCategories = [
    { id: 'cosmetiques_beaute', name: t('sante_beaute.categories.cosmetiques_beaute'), icon: <span style={{ fontSize: '24px', color: '#e83e8c' }}>ğŸ’„</span>, color: 'pink', emoji: 'ğŸ’„' },
    { id: 'parfums_deodorants_femme', name: t('sante_beaute.categories.parfums_deodorants_femme'), icon: <span style={{ fontSize: '24px', color: '#dc3545' }}>ğŸŒ¸</span>, color: 'danger', emoji: 'ğŸŒ¸' },
    { id: 'parfums_deodorants_homme', name: t('sante_beaute.categories.parfums_deodorants_homme'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸŒ¿</span>, color: 'primary', emoji: 'ğŸŒ¿' },
    { id: 'parapharmacie_sante', name: t('sante_beaute.categories.parapharmacie_sante'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ’Š</span>, color: 'success', emoji: 'ğŸ’Š' }
  ];
  
  // IMOJESS
  const meublesCategories = [
    { id: 'meubles_maison', name: t('meubles.categories.meubles_maison'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ›‹ï¸</span>, color: 'primary', emoji: 'ğŸ›‹ï¸' },
    { id: 'decoration', name: t('meubles.categories.decoration'), icon: <span style={{ fontSize: '24px', color: '#ffc107' }}>ğŸ¨</span>, color: 'warning', emoji: 'ğŸ¨' },
    { id: 'vaisselle', name: t('meubles.categories.vaisselle'), icon: <span style={{ fontSize: '24px', color: '#17a2b8' }}>ğŸ½ï¸</span>, color: 'info', emoji: 'ğŸ½ï¸' },
      ];
  
  // EMOJES
  const loisirsCategories = [
    { id: 'animalerie', name: t('loisirs.categories.animalerie'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ¾</span>, color: 'success', emoji: 'ğŸ¾' },
    { id: 'consoles_jeux_videos', name: t('loisirs.categories.consoles_jeux_videos'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ®</span>, color: 'primary', emoji: 'ğŸ®' },
    { id: 'livres_magazines', name: t('loisirs.categories.livres_magazines'), icon: <span style={{ fontSize: '24px', color: '#17a2b8' }}>ğŸ“š</span>, color: 'info', emoji: 'ğŸ“š' },
     ];
   
  
  // imojes
  const sportCategories = [
    { id: 'football', name: t('sport.categories.football'), icon: <span style={{ fontSize: '24px' }}>âš½</span>, color: 'success', emoji: 'âš½' },
    { id: 'hand_voley_basket', name: t('sport.categories.hand_voley_basket'), icon: <span style={{ fontSize: '24px' }}>ğŸ€</span>, color: 'primary', emoji: 'ğŸ€' },
     ];
  
  // Emojzesss 
  const alimentairesCategories = [
       { id: 'fruits_secs', name: t('alimentaires.categories.fruits_secs'), icon: <span style={{ fontSize: '24px', color: '#795548' }}>ğŸ¥œ</span>, color: 'brown', emoji: 'ğŸ¥œ' },
    { id: 'graines_riz_cereales', name: t('alimentaires.categories.graines_riz_cereales'), icon: <span style={{ fontSize: '24px', color: '#ffc107' }}>ğŸŒ¾</span>, color: 'warning', emoji: 'ğŸŒ¾' },
       { id: 'aliments_dietetiques', name: t('alimentaires.categories.aliments_dietetiques'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ¥—</span>, color: 'success', emoji: 'ğŸ¥—' }
  ];
   
   
  // EMOJES
  const servicesCategories = [
    { id: 'construction_travaux', name: t('services.categories.construction_travaux'), icon: <span style={{ fontSize: '24px' }}>ğŸ—ï¸</span>, color: 'warning', emoji: 'ğŸ—ï¸' },
    { id: 'ecoles_formations', name: t('services.categories.ecoles_formations'), icon: <span style={{ fontSize: '24px' }}>ğŸ“š</span>, color: 'info', emoji: 'ğŸ“š' },
          ];

  const materiauxCategories = [
    { id: 'materiel_professionnel', name: t('materiaux.categories.materiel_professionnel'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>ğŸ­</span>, color: 'primary', emoji: 'ğŸ­', description: t('materiaux.descriptions.materiel_professionnel', 'Ã‰quipement professionnel industriel') },
    { id: 'outillage_professionnel', name: t('materiaux.categories.outillage_professionnel'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ”§</span>, color: 'success', emoji: 'ğŸ”§', description: t('materiaux.descriptions.outillage_professionnel', 'Outils professionnels de qualitÃ©') },
    { id: 'materiaux_construction', name: t('materiaux.categories.materiaux_construction'), icon: <span style={{ fontSize: '24px', color: '#dc3545' }}>ğŸ§±</span>, color: 'danger', emoji: 'ğŸ§±', description: t('materiaux.descriptions.materiaux_construction', 'MatÃ©riaux pour construction') },
    ];





  //  emojes
  const voyagesCategories = [
    { id: 'voyage_organise', name: t('voyages.categories.voyage_organise'), icon: <span style={{ fontSize: '24px', color: '#007bff' }}>âœˆï¸</span>, color: 'primary', emoji: 'âœˆï¸' },
    { id: 'location_vacances', name: t('voyages.categories.location_vacances'), icon: <span style={{ fontSize: '24px', color: '#28a745' }}>ğŸ </span>, color: 'success', emoji: 'ğŸ ' },
    { id: 'hajj_omra', name: t('voyages.categories.hajj_omra'), icon: <span style={{ fontSize: '24px', color: '#17a2b8' }}>ğŸ•‹</span>, color: 'info', emoji: 'ğŸ•‹' },
    ];
  // Data de Immobilier
  const immobilierOperations = [
    { id: 'vente', name: t('immobilier.operation.vente') },
    { id: 'location', name: t('immobilier.operation.location') },
    { id: 'location_vacances', name: t('immobilier.operation.location_vacances') },
 
  ];

  const immobilierProperties = [
    { id: 'appartement', name: t('immobilier.property.appartement') },
    { id: 'villa', name: t('immobilier.property.villa') },
    { id: 'terrain', name: t('immobilier.property.terrain') },
    { id: 'local', name: t('immobilier.property.local') },
 
  ];
  const  emploiCategories = [
    { id: 'offres_emploi', name: t('offre.property.Offresemploi') },
    { id: 'demandes_emploi', name: t('offre.property.Demandesemploi') },
    
  ];

  useEffect(() => {
 
    if (!postData.categorie) {
      setAvailableSubcategories([]);
      return;
    }

    setIsLoading(true);
    
    try {
      const subcats = getSubcategoriesByCategory(postData.categorie);
      
      setAvailableSubcategories(subcats);
    } catch (error) {
      console.error('âŒ Error cargando subcategorÃ­as:', error);
      setAvailableSubcategories([]);
    } finally {
      setIsLoading(false);
    }
  }, [postData.categorie, postData.articleType]); // Dependencias

  // ğŸ”„ Validar subcategorÃ­a actual cuando se cargan las opciones
  useEffect(() => {
    if (postData.subCategory && availableSubcategories.length > 0) {
      const isValid = availableSubcategories.includes(postData.subCategory);
      
      if (!isValid && postData.subCategory !== '') {
        console.warn(`âš ï¸ SubcategorÃ­a "${postData.subCategory}" no es vÃ¡lida para ${postData.categorie}`);
        
        // Opcional: Si estÃ¡s en modo ediciÃ³n, puedes mantenerla
        // pero para creaciÃ³n nueva, limpiar
        if (!postData._id) {  
          handleChangeInput({
            target: { name: 'subCategory', value: '' }
          });
        }
      }
    }
  }, [postData.subCategory, availableSubcategories, postData.categorie, handleChangeInput, postData._id]);
  // Handlers para cada select
  const handleOperationChange = (e) => {
    const value = e.target.value;
    
    
    // Guardar operaciÃ³n
    handleChangeInput({
      target: { name: 'articleType', value }
    });
    
    // Limpiar tipo de propiedad al cambiar operaciÃ³n
    if (value) {
      handleChangeInput({
        target: { name: 'subCategory', value: '' }
      });
    }
  };

  const handlePropertyChange = (e) => {
    const value = e.target.value;
    console.log('ğŸ”„ Propiedad seleccionada:', value);
    
    // Guardar tipo de propiedad
    handleChangeInput({
      target: { name: 'subCategory', value }
    });
  };

  // ğŸ¯ RENDER PARA IMMOBILIER (CON DOS SELECTS)
  const renderImmobilierContent = () => {
    return (
      <div className="mt-2">
        {/* SELECT 1: TYPE D'OPÃ‰RATION */}
        <Form.Group className="mb-3">
          <Form.Label className={`fw-bold ${isRTL ? 'text-end d-block' : ''}`}>
            ğŸ“‹ {t('type_operation', 'Type d\'opÃ©ration')}
          </Form.Label>
          <Form.Select
            value={postData.articleType || ''}
            onChange={handleOperationChange}
            className="form-select-lg"
            dir={isRTL ? 'rtl' : 'ltr'}
          >
            <option value="">
              {t('select_operation', 'SÃ©lectionnez une opÃ©ration...')}
            </option>
            {immobilierOperations.map((item) => (
              <option key={item.id} value={item.id}>
                {item.name}
              </option>
            ))}
          </Form.Select>
        </Form.Group>

        {/* SELECT 2: TYPE DE BIEN (solo si hay operaciÃ³n seleccionada) */}
        {postData.articleType && (
          <Form.Group className="mb-3">
            <Form.Label className={`fw-bold ${isRTL ? 'text-end d-block' : ''}`}>
              ğŸ  {t('type_property', 'Type de bien')}
            </Form.Label>
            <Form.Select
              value={postData.subCategory || ''}
              onChange={handlePropertyChange}
              className="form-select-lg"
              dir={isRTL ? 'rtl' : 'ltr'}
            >
              <option value="">
                {t('select_property', 'SÃ©lectionnez un type de bien...')}
              </option>
              {immobilierProperties.map((item) => (
                <option key={item.id} value={item.id}>
                  {item.name}
                </option>
              ))}
            </Form.Select>
          </Form.Group>
        )}

        {/* INFO DE LO SELECCIONADO */}
        {(postData.articleType || postData.subCategory) && (
          <div className="alert alert-light border">
            <small>
              <strong>RÃ©sumÃ© de la sÃ©lection:</strong>
              {postData.articleType && (
                <div className="text-success">
                  ğŸ“‹ <strong>OpÃ©ration:</strong> {
                    immobilierOperations.find(op => op.id === postData.articleType)?.name
                  }
                </div>
              )}
              {postData.subCategory && (
                <div className="text-primary">
                  ğŸ  <strong>Type de bien:</strong> {
                    immobilierProperties.find(prop => prop.id === postData.subCategory)?.name
                  }
                </div>
              )}
            </small>
          </div>
        )}
      </div>
    );
  };

  // ğŸ¯ FUNCIÃ“N PARA OTRAS CATEGORÃAS (mantÃ©n las funciones que te pasÃ©)
  const getOtherCategories = () => {
    switch(mainCategory) {
      case 'voyages':
        return voyagesCategories;
      case 'vehicules':
        return vehiculesCategories;
      case 'vetements':
        return vetementsCategories;
      case 'telephones':
        return telephonesCategories;
      case 'informatique':
        return informatiqueCategories;
      case 'electromenager':
        return electromenagerCategories;
      case 'piecesDetachees':
        return piecesDetacheesCategories;
      case 'sante_beaute':
        return santeBeauteCategories;
      case 'meubles':
        return meublesCategories;
      case 'loisirs':
        return loisirsCategories;
      case 'emploi':
        return emploiCategories;
      case 'sport':
        return sportCategories;
      case 'alimentaires':
        return alimentairesCategories;
      case 'materiaux':
        return materiauxCategories;
      case 'services':
        return servicesCategories;
      default:
        return [];
    }
  };

  // ğŸ¯ TÃ­tulos para otras categorÃ­as
  const titles = {
    'vehicules': t('type_vehicle', 'Type de vÃ©hicule'),
    'vetements': t('type_clothing', 'Type de vÃªtement'),
    'telephones': t('type_phone', 'Type de tÃ©lÃ©phone'),
    'informatique': t('type_computer', 'Type d\'Ã©quipement informatique'),
    'electromenager': t('type_appliance', 'Type d\'appareil Ã©lectromÃ©nager'),
    'piecesDetachees': t('type_pieces_detachees', 'Type de piÃ¨ces dÃ©tachÃ©es'),
    'sante_beaute': t('type_sante_beautee', 'Type de produit santÃ© & beautÃ©'),
    'meubles': t('type_meubles', 'Type de meuble & maison'),
    'loisirs': t('type_loisirs', 'Type de loisirs & divertissements'),
    'emploi': t('type_emploi', 'Type d\'offre/emploi'),
    'sport': t('type_sport', 'Type de sport'),
    'alimentaires': t('type_alimentaires', 'Type de produit alimentaire'),
    'materiaux': t('type_materiaux', 'Type de matÃ©riaux & Ã©quipement'),
    'services': t('type_services', 'Type de service'),
    'voyages': t('type_voyages', 'Type de voyage')
  };

  // No renderizar si no hay categorÃ­a principal
  if (!mainCategory) {
    return (
      <div className={`alert alert-info ${isRTL ? 'text-end' : ''}`} dir={isRTL ? 'rtl' : 'ltr'}>
        âš ï¸ {t('select_category_first', 'Veuillez d\'abord sÃ©lectionner une catÃ©gorie principale')}
      </div>
    );
  }

  // ğŸ¯ Renderizar IMMOBILIER con dos selects
  if (mainCategory === 'immobilier') {
    return (
      <div className={`${isRTL ? 'rtl' : 'ltr'}`}>
        {renderImmobilierContent()}
      </div>
    );
  }

  // ğŸ¯ Para OTRAS CATEGORÃAS
  const otherCategories = getOtherCategories();
  
  if (otherCategories.length > 0) {
    return (
      <div className={`${isRTL ? 'rtl' : 'ltr'}`}>
        <div className="mt-4">
          <h6 className={`mb-3 ${isRTL ? 'text-end' : ''}`}>
            {titles[mainCategory] || t('select_subcategory')}
          </h6>
          
          {/* SELECT ÃšNICO para otras categorÃ­as */}
          <Form.Group className="mb-3">
            <Form.Select
              value={postData.subCategory || ''}
              onChange={(e) => {
                handleChangeInput({
                  target: { name: 'subCategory', value: e.target.value }
                });
              }}
              className="form-select-lg"
              dir={isRTL ? 'rtl' : 'ltr'}
            >
              <option value="">
                {t('select_subcategory_option', 'SÃ©lectionnez une sous-catÃ©gorie...')}
              </option>
              {otherCategories.map((cat) => (
                <option key={cat.id} value={cat.id}>
                  {cat.name}
                </option>
              ))}
            </Form.Select>
          </Form.Group>
        </div>
      </div>
    );
  }

  // Si no hay categorÃ­as definidas para esta categorÃ­a principal
  return (
    <div className={`${isRTL ? 'rtl' : 'ltr'}`}>
      <div className="mt-4">
      <Form.Group className="mb-3">
      <Form.Label>
        <strong>ğŸ“‚ {t('subcategory', 'Sous-catÃ©gorie')}</strong>
        {postData.subCategory && (
          <span className="ms-2 text-success">
            <small>
              <i className="bi bi-check-circle me-1"></i>
              {postData.subCategory}
            </small>
          </span>
        )}
      </Form.Label>
      
      {isLoading ? (
        <div className="text-center py-2">
          <div className="spinner-border spinner-border-sm" role="status">
            <span className="visually-hidden">Chargement...</span>
          </div>
          <small className="ms-2 text-muted">Chargement des sous-catÃ©gories...</small>
        </div>
      ) : availableSubcategories.length > 0 ? (
        <>
          <Form.Select
            name="subCategory"
            value={postData.subCategory || ''}
            onChange={handleChangeInput}
            required
            disabled={isLoading}
          >
            <option value="">
              {t('select_subcategory', 'SÃ©lectionnez une sous-catÃ©gorie')}
            </option>
            {availableSubcategories.map((subCat) => (
              <option key={subCat} value={subCat}>
                {t(subCat, subCat)}
              </option>
            ))}
          </Form.Select>
          
          <Form.Text className="text-muted">
            <small>
              {availableSubcategories.length} sous-catÃ©gorie(s) disponible(s)
              {postData.categorie === 'immobilier' && postData.articleType && 
                ` pour ${postData.articleType}`}
            </small>
          </Form.Text>
        </>
      ) : (
        <Form.Control
          type="text"
          name="subCategory"
          value={postData.subCategory || ''}
          onChange={handleChangeInput}
          placeholder={t('enter_subcategory', 'Entrez la sous-catÃ©gorie manuellement')}
          required
          disabled={isLoading}
        />
      )}
      
   
    </Form.Group>
      </div>
    </div>
  );
};

export default React.memo(Subcategories);













