import React from 'react';
import { useTranslation } from 'react-i18next';
import Carousel from 'react-bootstrap/Carousel';

function HeaderCarousel() {
  const { t } = useTranslation('headercarousel');

  const carouselImages = [
    '/images/banner1.jpg',
    '/images/banner2.jpg', 
    '/images/banner0.jpg',
    '/images/banner4.jpg',
    '/images/banner5.jpg',
    '/images/banner7.jpg'
  ];

  const slides = [
    {
      title: t('carousel.title1', 'Nouvelle Collection Printemps'),
      description: t('carousel.desc1', 'D√©couvrez les derni√®res tendances de la saison')
    },
    {
      title: t('carousel.title2', 'Soldes Exceptionnelles'),
      description: t('carousel.desc2', 'Jusqu\'√† -50% sur toute la boutique')
    },
    {
      title: t('carousel.title3', 'Livraison Gratuite'),
      description: t('carousel.desc3', 'Partout en Alg√©rie √† partir de 3000 DZD')
    },
    {
      title: t('carousel.title4', 'Mode Homme & Femme'),
      description: t('carousel.desc4', 'Des styles uniques pour tous les go√ªts')
    },
    {
      title: t('carousel.title5', 'Qualit√© Garantie'),
      description: t('carousel.desc5', 'Des mat√©riaux premium et une confection soign√©e')
    },
    {
      title: t('carousel.title6', 'Nouveaut√©s Quotidiennes'),
      description: t('carousel.desc6', 'D√©couvrez nos nouvelles arriv√©es chaque jour')
    }
  ];

  // Detectar si es dispositivo m√≥vil
  const isMobile = () => {
    if (typeof window !== 'undefined') {
      return window.innerWidth <= 768;
    }
    return false;
  };

  return (
    <Carousel 
      data-bs-theme="light" 
      fade 
      interval={4000}
      indicators={true}
      controls={true}
      style={{
        height: 'auto',
        minHeight: '100px' // Reducido significativamente
      }}
    >
      {carouselImages.map((image, index) => {
        const slide = slides[index] || {
          title: t('carousel.defaultTitle', 'Tassili Fashion'),
          description: t('carousel.defaultDesc', 'Votre destination mode pr√©f√©r√©e')
        };
        
        return (
          <Carousel.Item key={index}>
            <div 
              className="d-block w-100"
              style={{
                // üî• ALTURA OPTIMIZADA PARA ANDROID
                height: isMobile() ? '35vh' : '40vh', // M√°s bajo en m√≥vil
                maxHeight: isMobile() ? '180px' : '250px', // L√≠mites m√°s bajos
                minHeight: '120px', // M√≠nimo reducido
                overflow: 'hidden',
                backgroundColor: '#f8f9fa'
              }}
            >
              <img
                src={image}
                alt={slide.title}  
                style={{
                  width: '100%',
                  height: '100%',
                  objectFit: 'cover',
                  objectPosition: isMobile() ? 'center 25%' : 'center' // Ajuste para m√≥vil
                }}
                onError={(e) => {
                  e.target.src = `https://via.placeholder.com/800x200/8b5cf6/ffffff?text=Tassili+${index + 1}`;
                }}
              />
            </div>
         
            <Carousel.Caption 
              style={{
                backgroundColor: 'rgba(0, 0, 0, 0.4)', // M√°s oscuro para mejor legibilidad
                backdropFilter: 'blur(2px)',
                borderRadius: '8px',
                padding: isMobile() ? '10px' : '15px',
                bottom: isMobile() ? '10px' : '20px',
                left: '5%',
                right: '5%',
                textAlign: 'center'
              }}
            >
              <h3 
                style={{
                  fontSize: isMobile() ? '1rem' : '1.5rem', // Texto m√°s peque√±o
                  fontWeight: '600',
                  marginBottom: '5px',
                  color: '#ffffff',
                  textShadow: '1px 1px 3px rgba(0, 0, 0, 0.7)'
                }}
              >
                {slide.title}
              </h3>
              <p 
                style={{
                  fontSize: isMobile() ? '0.8rem' : '1rem', // Texto m√°s peque√±o
                  fontWeight: '400',
                  color: '#f0f0f0',
                  marginBottom: '0',
                  display: isMobile() ? 'none' : 'block' // Ocultar descripci√≥n en m√≥vil si quieres m√°s compacto
                }}
              >
                {slide.description}
              </p>
            </Carousel.Caption>
          </Carousel.Item>
        );
      })}
    </Carousel>
  );
}

export default HeaderCarousel;